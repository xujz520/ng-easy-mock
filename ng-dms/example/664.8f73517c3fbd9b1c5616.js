(self.webpackChunkng_dms=self.webpackChunkng_dms||[]).push([[664],{6664:(t,e,i)=>{"use strict";i.r(e),i.d(e,{RichtextModule:()=>J});var o=i(8583),n=i(3423),s=i(1679),r=i(7716),l=i(1841),a=i(8058),p=i(665),d=i(7018),c=i(5887),f=i(6704),u=i(7674),h=i(7606);const m=["container"];let g=(()=>{class t{constructor(t,e,i){this.toolService=t,this.http=e,this.ngZone=i,this.config={},this.defaultConfig={lang:"zh-CN",height:320,placeholder:"\u5728\u8fd9\u91cc\u8fdb\u884c\u521b\u4f5c...",callbacks:{}},this.$note=null,this.inited=new r.vpe,this.html="",this.htmlChange=new r.vpe}get _config(){return this.config.callbacks=Object.assign({},this.defaultConfig.callbacks,this.config.callbacks),Object.assign({},this.defaultConfig,this.config)}ngOnChanges(t){t.html&&this.$note&&this.$note.summernote("code")!=this.html&&this.$note.summernote("code",this.html)}ngOnInit(){}ngAfterViewInit(){this.toolService.require([{path:"./assets/lib/summernote/summernote_bootstrap.css"},{path:"./assets/lib/summernote/summernote.min.css"},{path:"./assets/lib/summernote/summernote-zh-CN.min.js",deps:[{path:"./assets/lib/summernote/summernote.min.js",deps:[{path:"./assets/lib/summernote/bootstrap.min.js",deps:[{path:"./assets/lib/summernote/jquery.min.js"}]}]}]}]).then(()=>{const t=window.jQuery;this.ngZone.runOutsideAngular(()=>{this.$note=t(this.container.nativeElement).summernote(this._config),setTimeout(()=>{this.$note.summernote("code",this.html),this.inited.emit(this.$note)},0),this.$note.on("summernote.change",(t,e,i)=>{this.ngZone.run(()=>{this.html=e,this.htmlChange.emit(this.html)})})})})}ngOnDestroy(){this.$note&&this.$note.summernote("destroy")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(h.oN),r.Y36(l.eN),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["summernote"]],viewQuery:function(t,e){if(1&t&&r.Gf(m,7),2&t){let t;r.iGM(t=r.CRH())&&(e.container=t.first)}},inputs:{config:"config",html:"html"},outputs:{inited:"inited",htmlChange:"htmlChange"},features:[r.TTD],decls:2,vars:0,consts:[["container",""]],template:function(t,e){1&t&&r._UZ(0,"textarea",null,0)},styles:["[_nghost-%COMP%]{display:block;width:100%}"],changeDetection:0}),t})();var b=i(66),x=i(4453),z=i(9374),w=i(4514),y=i(3599),q=i(8542),Z=i(9075);let C=(()=>{class t{constructor(t){this.sanitizer=t,this.html=""}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Z.H7))},t.\u0275cmp=r.Xpm({type:t,selectors:[["summernote-preview"]],inputs:{html:"html"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(t,e){1&t&&r._UZ(0,"div",0),2&t&&r.Q6J("innerHTML",e.sanitizer.bypassSecurityTrustHtml(e.html),r.oJD)},styles:["[_nghost-%COMP%]     blockquote{padding:10px 20px;margin:0 0 20px;font-size:17.5px;border-left:5px solid #eee}[_nghost-%COMP%]     blockquote ol:last-child, [_nghost-%COMP%]     blockquote p:last-child, [_nghost-%COMP%]     blockquote ul:last-child{margin-bottom:0}[_nghost-%COMP%]     pre{display:block;padding:9.5px;margin:0 0 10px;font-size:13px;line-height:1.42857143;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}[_nghost-%COMP%]     .table-bordered{border:1px solid #ddd}[_nghost-%COMP%]     .table{width:100%;max-width:100%;margin-bottom:20px}[_nghost-%COMP%]     table{background-color:initial}[_nghost-%COMP%]     table{border-spacing:0;border-collapse:collapse}[_nghost-%COMP%]     .table-bordered>tbody>tr>td, [_nghost-%COMP%]     .table-bordered>tbody>tr>th, [_nghost-%COMP%]     .table-bordered>tfoot>tr>td, [_nghost-%COMP%]     .table-bordered>tfoot>tr>th, [_nghost-%COMP%]     .table-bordered>thead>tr>td, [_nghost-%COMP%]     .table-bordered>thead>tr>th{border:1px solid #ddd}[_nghost-%COMP%]     .table>tbody>tr>td, [_nghost-%COMP%]     .table>tbody>tr>th, [_nghost-%COMP%]     .table>tfoot>tr>td, [_nghost-%COMP%]     .table>tfoot>tr>th, [_nghost-%COMP%]     .table>thead>tr>td, [_nghost-%COMP%]     .table>thead>tr>th{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #ddd}"],changeDetection:0}),t})();function M(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",17),r.NdJ("click",function(){return r.CHM(t),r.oxw().setValue()}),r._uU(1,"\u6d4b\u8bd5\u8d4b\u503c"),r.qZA()}}const S=function(){return{showRemoveIcon:!1,showDownloadIcon:!0}};function v(t,e){if(1&t&&(r.ynx(0),r.TgZ(1,"h1",18),r._uU(2),r.qZA(),r._UZ(3,"summernote-preview",19),r._UZ(4,"nz-upload",20),r.BQk()),2&t){const t=r.oxw();r.xp6(2),r.Oqu(t.title),r.xp6(1),r.Q6J("html",t.content),r.xp6(1),r.Q6J("nzFileList",t.fileList)("nzShowUploadList",r.DdM(4,S))}}let k=(()=>{class t{constructor(t,e,i){this.http=t,this.msg=e,this.fb=i,this.loading=!1,this.title="",this.content="",this.isVisible=!1,this.$summernote=null,this.summernoteConfig={callbacks:{onImageUpload:t=>{let e=new FormData;e.append("file",t[0]),this.http.post("/upload",e).subscribe(t=>{0==t.code&&this.$summernote.summernote("insertImage",t.data.url,"filename")})}}},this.fileList=[],this.nzBeforeUpload=(t,e)=>{let i=new FormData;return i.append("file",t),this.loading=!0,this.http.post("/upload",i).subscribe(e=>{this.loading=!1,0==e.code&&(this.fileList=[...this.fileList,{uid:this.fileList.length+1,name:t.name,status:"done",url:e.data.url}])}),!1}}ngOnInit(){this.setValue()}setValue(){let t={title:"\u5173\u4e8e\u6625\u8282\u653e\u5047\u7684\u901a\u77e5",content:'<p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u5404\u76f8\u5173\u90e8\u95e8\uff1a</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000\u65b0\u6625\u4f73\u8282\u6e10\u8fd1\uff0c\u4e3a\u4f7f\u5168\u4f53\u5458\u5de5\u5ea6\u8fc7\u4e00\u4e2a\u6b22\u4e50\u3001\u7965\u548c\u3001\u5e73\u5b89\u7684\u65b0\u6625\u4f73\u8282\uff0c\u5207\u5b9e\u505a\u597d\u8282\u65e5\u671f\u95f4\u7684\u5b89\u5168\u5de5\u4f5c\uff0c\u6839\u636e\u56fd\u5bb6\u89c4\u5b9a\u5e76\u7ed3\u5408\u516c\u53f8\u5b9e\u9645\u60c5\u51b5\uff0c\u73b0\u5c06xxxx\u5e74\u6625\u8282\u653e\u5047\u5b89\u6392\u901a\u77e5\u5982\u4e0b \uff1a</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000<strong>\u3000\u4e00\u3001\u653e\u5047\u65f6\u95f4</strong></p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000xxxx\u5e742\u6708x\u65e5 \u4e3e\u529e\u516c\u53f8\u5e74\u4f1a\uff08\u5177\u4f53\u4e8b\u5b9c\u53e6\u884c\u901a\u77e5\uff09\uff1b</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000xxxx\u5e742\u6708x\u65e5\u2014xxxx\u5e742\u6708x\u65e5 \u6625\u8282\u653e\u5047\uff08\u5171\u8ba122\u5929\uff09\uff1b</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u30002\u6708x\u65e5\uff08\u661f\u671f\u4e00\uff09\u6b63\u5f0f\u4e0a\u73ed\u3002</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000\u9664\u6b64\u4e4b\u5916\uff0c\u4e0d\u51c6\u8bb8\u8282\u524d\u3001\u8282\u540e\u8bf7\u5047\u3002</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000<strong>\u4e8c\u3001\u5168\u4f53\u5458\u5de5\u8ba4\u771f\u505a\u597d\u5b89\u5168\u68c0\u67e5\u5de5\u4f5c\u3002</strong></p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u30002\u6708x\u65e5\u4e0b\u73ed\u4e4b\u524d\u6574\u7406\u597d\u529e\u516c\u533a\u57df\u5185\u7684\u73af\u5883\u536b\u751f\uff0c\u8981\u6c42\u505a\u5230\uff1a\u5730\u9762\u6574\u6d01\u3001\u5173\u95ed\u529e\u516c\u8bbe\u5907\u3001\u7269\u54c1\u6446\u653e\u6709\u5e8f\u3001\u8d35\u91cd\u7269\u54c1\u59a5\u5584\u4fdd\u7ba1\u3002</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;"><strong>\u3000\u3000\u4e09\u3001\u8fd4\u4e61\u5458\u5de5\u987b\u63d0\u524d\u9884\u8ba2\u5f80\u8fd4\u8f66\u7968\uff0c\u4ee5\u514d\u5230\u65f6\u201c\u4e00\u7968\u96be\u6c42\u201d\u3002</strong></p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000\u8282\u5047\u65e5\u671f\u95f4\u4e3a\u4e8b\u6545\u591a\u53d1\u671f\uff0c\u5728\u8282\u65e5\u671f\u95f4\u8fd4\u4e61\u5458\u5de5\u8981\u6ce8\u610f\u4eba\u8eab\u53ca\u8d22\u4ea7\u5b89\u5168\uff0c\u5047\u671f\u7ed3\u675f\u540e\u8bf7\u6309\u65f6\u8fd4\u56de\u516c\u53f8\u3002</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000\u795d\u5168\u4f53\u5458\u5de5\u65b0\u6625\u6109\u5feb\uff0c\u4e07\u4e8b\u5982\u610f\uff01</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif; text-align: right;">\u3000\u3000xx\u516c\u53f8\u4eba\u4e8b\u90e8</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif; text-align: right;">\u3000\u3000xxxx\u5e7401\u6708x\u65e5</p>',fileList:[{name:"\u65b0\u5efa DOCX \u6587\u6863.docx",url:"http://dummyimage.com/150x150/7ef279/f279a1.png&text=MockJS"},{name:"\u65b0\u5efa XLSX \u5de5\u4f5c\u8868.xlsx",url:"http://dummyimage.com/150x150/7ef279/f279a1.png&text=MockJS"}]};this.title=t.title,this.content=t.content,this.fileList=t.fileList.map((t,e)=>({uid:e,name:t.name,status:"done",url:t.url}))}save(){if(!this.title)return void this.msg.info("\u8bf7\u8f93\u5165\u6807\u9898!");if(this.$summernote.summernote("isEmpty"))return void this.msg.info("\u8bf7\u8f93\u5165\u6b63\u6587!");let t={title:this.title,content:this.content,fileList:this.fileList.map(t=>({name:t.name,url:t.url}))};console.log(JSON.stringify(t,null,4)),this.loading=!0,this.http.post("/post",t).subscribe(t=>{this.loading=!1,0==t.code&&(this.msg.success("\u64cd\u4f5c\u6210\u529f"),this.title="",this.content="",this.fileList=[])})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(l.eN),r.Y36(a.dD),r.Y36(p.qu))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-summernote"]],decls:30,vars:10,consts:[["nzTitle","\u53d1\u5e03\u901a\u77e5\u516c\u544a","nzType","inner",1,"myCard",3,"nzExtra"],["extraTemplate",""],["nz-form","","nzSize","small"],["nzRequired","",2,"width","60px"],["type","text","nz-input","","nzBorderless","","name","title","placeholder","\u6807\u9898",2,"border-bottom","1px solid #ddd",3,"ngModel","ngModelChange"],[3,"html","config","htmlChange","inited"],[2,"width","500px","margin-bottom","0"],[2,"width","60px"],["nzSpan","20"],["nzAction","",3,"nzBeforeUpload","nzFileList","nzFileListChange"],["nz-button",""],["nz-icon","","nzType","upload"],[1,"footer"],["nz-button","","nzType","primary","nzGhost","",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nzTitle","\u9884\u89c8",3,"nzVisible","nzFooter","nzWidth","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[3,"click"],[2,"text-align","center"],[3,"html"],["nzAction","",3,"nzFileList","nzShowUploadList"]],template:function(t,e){if(1&t&&(r.TgZ(0,"nz-card",0),r.YNc(1,M,2,0,"ng-template",null,1,r.W1O),r.TgZ(3,"form",2),r.TgZ(4,"nz-form-item"),r.TgZ(5,"nz-form-label",3),r._uU(6,"\u6807\u9898"),r.qZA(),r.TgZ(7,"nz-form-control"),r.TgZ(8,"input",4),r.NdJ("ngModelChange",function(t){return e.title=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"nz-form-item"),r.TgZ(10,"nz-form-label",3),r._uU(11,"\u6b63\u6587"),r.qZA(),r.TgZ(12,"nz-form-control"),r.TgZ(13,"summernote",5),r.NdJ("htmlChange",function(t){return e.content=t})("inited",function(t){return e.$summernote=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"nz-form-item",6),r.TgZ(15,"nz-form-label",7),r._uU(16,"\u9644\u4ef6"),r.qZA(),r.TgZ(17,"nz-form-control",8),r.TgZ(18,"nz-upload",9),r.NdJ("nzFileListChange",function(t){return e.fileList=t}),r.TgZ(19,"button",10),r._UZ(20,"i",11),r._uU(21,"\u4e0a\u4f20"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(22,"div",12),r.TgZ(23,"button",13),r.NdJ("click",function(){return e.isVisible=!0}),r._uU(24,"\u9884\u89c8"),r.qZA(),r._uU(25," \xa0 "),r.TgZ(26,"button",14),r.NdJ("click",function(){return e.save()}),r._uU(27,"\u4fdd\u5b58"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"nz-modal",15),r.NdJ("nzVisibleChange",function(t){return e.isVisible=t})("nzOnCancel",function(){return e.isVisible=!1}),r.YNc(29,v,5,5,"ng-container",16),r.qZA()),2&t){const t=r.MAs(2);r.Q6J("nzExtra",t),r.xp6(8),r.Q6J("ngModel",e.title),r.xp6(5),r.Q6J("html",e.content)("config",e.summernoteConfig),r.xp6(5),r.Q6J("nzBeforeUpload",e.nzBeforeUpload)("nzFileList",e.fileList),r.xp6(8),r.Q6J("nzLoading",e.loading),r.xp6(2),r.Q6J("nzVisible",e.isVisible)("nzFooter",null)("nzWidth",850)}},directives:[d.bd,p._Y,p.JL,p.F,c.Lr,f.SK,c.Nx,f.t3,c.iK,c.Fd,u.Zp,p.Fj,p.JJ,p.On,g,b.FY,x.ix,z.dQ,w.w,y.Ls,q.du,q.Hf,C],styles:["[_nghost-%COMP%]     .myCard>.ant-card-body{padding-bottom:66px}[_nghost-%COMP%]     .footer{position:absolute;width:100%;left:0;bottom:0;padding:8px 16px;background-color:#fafafa;border-top:1px solid #f0f0f0}"]}),t})();const T=["textarea"];let _=(()=>{class t{constructor(t,e,i,o){this.toolService=t,this.http=e,this.ngZone=i,this.elementRef=o,this.config={},this.defaultConfig={language:"zh_CN",height:320,placeholder:"\u5728\u8fd9\u91cc\u8fdb\u884c\u521b\u4f5c...",menubar:!1,plugins:"lists table hr link image media codesample code fullscreen searchreplace wordcount",toolbar_groups:{alignment:{icon:"align-left",tooltip:"alignment",items:"alignleft aligncenter alignright alignjustify"}},toolbar:"formatselect | forecolor backcolor bold italic underline strikethrough removeformat | lineheight alignment | hr blockquote numlist bullist table | link image media codesample | code fullscreen searchreplace wordcount"},this.editor=null,this.inited=new r.vpe,this.intervalId=null,this.prevBoundingClientRect={},this.loading=!1,this.html="",this.htmlChange=new r.vpe}get _config(){return Object.assign(Object.assign({target:this.textarea.nativeElement},this.defaultConfig),this.config)}ngOnChanges(t){t.html&&this.editor&&this.editor.getContent()!=this.html&&this.editor.setContent(this.html||"",{format:"html"})}ngOnInit(){}ngAfterViewInit(){this.toolService.require([{path:"./assets/lib/tinymce/tinymce.min.js"},{path:"./assets/lib/tinymce/bootstrap_tooltip/bootstrap_tooltip.min.css"},{path:"./assets/lib/tinymce/bootstrap_tooltip/bootstrap_tooltip.min.js",deps:[{path:"./assets/lib/tinymce/bootstrap_tooltip/jquery.min.js"}]}]).then(()=>{const t=window.jQuery;this.ngZone.runOutsideAngular(()=>{window.tinymce.init(this._config).then(([e])=>{this.editor=e,t.fn.tooltip.Constructor.DEFAULTS.container="body",t(".tox-toolbar-overlord [title]").tooltip({placement:"bottom"}),this.editor.on("paste",()=>{setTimeout(()=>{this.editor.uploadImages()},0)}),this.editor.on("input change",()=>{this.ngZone.run(()=>{this.html=this.editor.getContent(),this.htmlChange.emit(this.html)})}),this.editor.setContent(this.html||"",{format:"html"}),this.inited.emit(this.editor);let i=new window.ResizeObserver(t=>{let e=t[0].contentRect;if(0==this.prevBoundingClientRect.width&&e.width)return i.disconnect(),this.prevBoundingClientRect={},void this.reInit();this.prevBoundingClientRect=e});i.observe(this.elementRef.nativeElement)})})})}ngOnDestroy(){this.editor&&this.editor.destroy()}reInit(){setTimeout(()=>{this.ngOnDestroy(),this.ngAfterViewInit()},0)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(h.oN),r.Y36(l.eN),r.Y36(r.R0b),r.Y36(r.SBq))},t.\u0275cmp=r.Xpm({type:t,selectors:[["tinymce"]],viewQuery:function(t,e){if(1&t&&r.Gf(T,7),2&t){let t;r.iGM(t=r.CRH())&&(e.textarea=t.first)}},inputs:{config:"config",html:"html"},outputs:{inited:"inited",htmlChange:"htmlChange"},features:[r.TTD],decls:2,vars:0,consts:[["textarea",""]],template:function(t,e){1&t&&r._UZ(0,"textarea",null,0)},styles:["[_nghost-%COMP%]{display:block;width:100%}"],changeDetection:0}),t})();function L(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"a",17),r.NdJ("click",function(){return r.CHM(t),r.oxw().setValue()}),r._uU(1,"\u6d4b\u8bd5\u8d4b\u503c"),r.qZA()}}const O=function(){return{showRemoveIcon:!1,showDownloadIcon:!0}};function A(t,e){if(1&t&&(r.ynx(0),r.TgZ(1,"h1",18),r._uU(2),r.qZA(),r._UZ(3,"div",19),r._UZ(4,"nz-upload",20),r.BQk()),2&t){const t=r.oxw();r.xp6(2),r.Oqu(t.title),r.xp6(1),r.Q6J("innerHTML",t.previewHTML,r.oJD),r.xp6(1),r.Q6J("nzFileList",t.fileList)("nzShowUploadList",r.DdM(4,O))}}const Y=[{path:"summernote",component:k},{path:"tinymce",component:(()=>{class t{constructor(t,e,i,o){this.http=t,this.msg=e,this.fb=i,this.sanitizer=o,this.loading=!1,this.isVisible=!1,this.previewHTML=null,this.title="",this.content="",this.tinymceConfig={images_upload_handler:(t,e,i)=>{let o=new FormData,n=t.blob();o.append("file",n),this.http.post("/upload",o).subscribe(t=>{0==t.code&&e(t.data.url)})}},this.fileList=[],this.nzBeforeUpload=(t,e)=>{let i=new FormData;return i.append("file",t),this.loading=!0,this.http.post("/upload",i).subscribe(e=>{this.loading=!1,0==e.code&&(this.fileList=[...this.fileList,{uid:this.fileList.length+1,name:t.name,status:"done",url:e.data.url}])}),!1}}ngOnInit(){this.setValue()}setValue(){let t={title:"\u5173\u4e8e\u6625\u8282\u653e\u5047\u7684\u901a\u77e5",content:'<p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u5404\u76f8\u5173\u90e8\u95e8\uff1a</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000\u65b0\u6625\u4f73\u8282\u6e10\u8fd1\uff0c\u4e3a\u4f7f\u5168\u4f53\u5458\u5de5\u5ea6\u8fc7\u4e00\u4e2a\u6b22\u4e50\u3001\u7965\u548c\u3001\u5e73\u5b89\u7684\u65b0\u6625\u4f73\u8282\uff0c\u5207\u5b9e\u505a\u597d\u8282\u65e5\u671f\u95f4\u7684\u5b89\u5168\u5de5\u4f5c\uff0c\u6839\u636e\u56fd\u5bb6\u89c4\u5b9a\u5e76\u7ed3\u5408\u516c\u53f8\u5b9e\u9645\u60c5\u51b5\uff0c\u73b0\u5c06xxxx\u5e74\u6625\u8282\u653e\u5047\u5b89\u6392\u901a\u77e5\u5982\u4e0b \uff1a</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000<strong>\u3000\u4e00\u3001\u653e\u5047\u65f6\u95f4</strong></p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000xxxx\u5e742\u6708x\u65e5 \u4e3e\u529e\u516c\u53f8\u5e74\u4f1a\uff08\u5177\u4f53\u4e8b\u5b9c\u53e6\u884c\u901a\u77e5\uff09\uff1b</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000xxxx\u5e742\u6708x\u65e5\u2014xxxx\u5e742\u6708x\u65e5 \u6625\u8282\u653e\u5047\uff08\u5171\u8ba122\u5929\uff09\uff1b</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u30002\u6708x\u65e5\uff08\u661f\u671f\u4e00\uff09\u6b63\u5f0f\u4e0a\u73ed\u3002</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000\u9664\u6b64\u4e4b\u5916\uff0c\u4e0d\u51c6\u8bb8\u8282\u524d\u3001\u8282\u540e\u8bf7\u5047\u3002</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000<strong>\u4e8c\u3001\u5168\u4f53\u5458\u5de5\u8ba4\u771f\u505a\u597d\u5b89\u5168\u68c0\u67e5\u5de5\u4f5c\u3002</strong></p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u30002\u6708x\u65e5\u4e0b\u73ed\u4e4b\u524d\u6574\u7406\u597d\u529e\u516c\u533a\u57df\u5185\u7684\u73af\u5883\u536b\u751f\uff0c\u8981\u6c42\u505a\u5230\uff1a\u5730\u9762\u6574\u6d01\u3001\u5173\u95ed\u529e\u516c\u8bbe\u5907\u3001\u7269\u54c1\u6446\u653e\u6709\u5e8f\u3001\u8d35\u91cd\u7269\u54c1\u59a5\u5584\u4fdd\u7ba1\u3002</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;"><strong>\u3000\u3000\u4e09\u3001\u8fd4\u4e61\u5458\u5de5\u987b\u63d0\u524d\u9884\u8ba2\u5f80\u8fd4\u8f66\u7968\uff0c\u4ee5\u514d\u5230\u65f6\u201c\u4e00\u7968\u96be\u6c42\u201d\u3002</strong></p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000\u8282\u5047\u65e5\u671f\u95f4\u4e3a\u4e8b\u6545\u591a\u53d1\u671f\uff0c\u5728\u8282\u65e5\u671f\u95f4\u8fd4\u4e61\u5458\u5de5\u8981\u6ce8\u610f\u4eba\u8eab\u53ca\u8d22\u4ea7\u5b89\u5168\uff0c\u5047\u671f\u7ed3\u675f\u540e\u8bf7\u6309\u65f6\u8fd4\u56de\u516c\u53f8\u3002</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif;">\u3000\u3000\u795d\u5168\u4f53\u5458\u5de5\u65b0\u6625\u6109\u5feb\uff0c\u4e07\u4e8b\u5982\u610f\uff01</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif; text-align: right;">\u3000\u3000xx\u516c\u53f8\u4eba\u4e8b\u90e8</p><p style="padding: 0px; font-size: 16px; color: rgb(51, 51, 51); overflow-wrap: break-word; font-family: &quot;Microsoft YaHei&quot;, SimSun, arial, sans-serif; text-align: right;">\u3000\u3000xxxx\u5e7401\u6708x\u65e5</p>',fileList:[{name:"\u65b0\u5efa DOCX \u6587\u6863.docx",url:"http://dummyimage.com/150x150/7ef279/f279a1.png&text=MockJS"},{name:"\u65b0\u5efa XLSX \u5de5\u4f5c\u8868.xlsx",url:"http://dummyimage.com/150x150/7ef279/f279a1.png&text=MockJS"}]};this.title=t.title,this.content=t.content,this.fileList=t.fileList.map((t,e)=>({uid:e,name:t.name,status:"done",url:t.url}))}preview(){this.isVisible=!0,this.previewHTML=this.sanitizer.bypassSecurityTrustHtml(this.content)}save(){if(!this.title)return void this.msg.info("\u8bf7\u8f93\u5165\u6807\u9898!");if(!this.content)return void this.msg.info("\u8bf7\u8f93\u5165\u6b63\u6587!");let t={title:this.title,content:this.content,fileList:this.fileList.map(t=>({name:t.name,url:t.url}))};console.log(JSON.stringify(t,null,4)),this.loading=!0,this.http.post("/post",t).subscribe(t=>{this.loading=!1,0==t.code&&(this.msg.success("\u64cd\u4f5c\u6210\u529f"),this.title="",this.content="",this.fileList=[])})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(l.eN),r.Y36(a.dD),r.Y36(p.qu),r.Y36(Z.H7))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-tinymce"]],decls:30,vars:10,consts:[["nzTitle","\u53d1\u5e03\u901a\u77e5\u516c\u544a","nzType","inner",1,"myCard",3,"nzExtra"],["extraTemplate",""],["nz-form","","nzSize","small"],["nzRequired","",2,"width","60px"],["type","text","nz-input","","nzBorderless","","name","title","placeholder","\u6807\u9898",2,"border-bottom","1px solid #ddd",3,"ngModel","ngModelChange"],[3,"html","config","htmlChange"],[2,"width","500px","margin-bottom","0"],[2,"width","60px"],["nzSpan","20"],["nzAction","",3,"nzBeforeUpload","nzFileList","nzFileListChange"],["nz-button",""],["nz-icon","","nzType","upload"],[1,"footer"],["nz-button","","nzType","primary","nzGhost","",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nzTitle","\u9884\u89c8",3,"nzVisible","nzFooter","nzWidth","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[3,"click"],[2,"text-align","center"],[3,"innerHTML"],["nzAction","",3,"nzFileList","nzShowUploadList"]],template:function(t,e){if(1&t&&(r.TgZ(0,"nz-card",0),r.YNc(1,L,2,0,"ng-template",null,1,r.W1O),r.TgZ(3,"form",2),r.TgZ(4,"nz-form-item"),r.TgZ(5,"nz-form-label",3),r._uU(6,"\u6807\u9898"),r.qZA(),r.TgZ(7,"nz-form-control"),r.TgZ(8,"input",4),r.NdJ("ngModelChange",function(t){return e.title=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"nz-form-item"),r.TgZ(10,"nz-form-label",3),r._uU(11,"\u6b63\u6587"),r.qZA(),r.TgZ(12,"nz-form-control"),r.TgZ(13,"tinymce",5),r.NdJ("htmlChange",function(t){return e.content=t}),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"nz-form-item",6),r.TgZ(15,"nz-form-label",7),r._uU(16,"\u9644\u4ef6"),r.qZA(),r.TgZ(17,"nz-form-control",8),r.TgZ(18,"nz-upload",9),r.NdJ("nzFileListChange",function(t){return e.fileList=t}),r.TgZ(19,"button",10),r._UZ(20,"i",11),r._uU(21,"\u4e0a\u4f20"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(22,"div",12),r.TgZ(23,"button",13),r.NdJ("click",function(){return e.preview()}),r._uU(24,"\u9884\u89c8"),r.qZA(),r._uU(25," \xa0 "),r.TgZ(26,"button",14),r.NdJ("click",function(){return e.save()}),r._uU(27,"\u4fdd\u5b58"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(28,"nz-modal",15),r.NdJ("nzVisibleChange",function(t){return e.isVisible=t})("nzOnCancel",function(){return e.isVisible=!1}),r.YNc(29,A,5,5,"ng-container",16),r.qZA()),2&t){const t=r.MAs(2);r.Q6J("nzExtra",t),r.xp6(8),r.Q6J("ngModel",e.title),r.xp6(5),r.Q6J("html",e.content)("config",e.tinymceConfig),r.xp6(5),r.Q6J("nzBeforeUpload",e.nzBeforeUpload)("nzFileList",e.fileList),r.xp6(8),r.Q6J("nzLoading",e.loading),r.xp6(2),r.Q6J("nzVisible",e.isVisible)("nzFooter",null)("nzWidth",850)}},directives:[d.bd,p._Y,p.JL,p.F,c.Lr,f.SK,c.Nx,f.t3,c.iK,c.Fd,u.Zp,p.Fj,p.JJ,p.On,_,b.FY,x.ix,z.dQ,w.w,y.Ls,q.du,q.Hf],styles:["[_nghost-%COMP%]     .myCard>.ant-card-body{padding-bottom:66px}[_nghost-%COMP%]     .footer{position:absolute;width:100%;left:0;bottom:0;padding:8px 16px;background-color:#fafafa;border-top:1px solid #f0f0f0}"]}),t})()}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[o.ez,s.m,n.Bz.forChild(Y)]]}),t})()}}]);