!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/common"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-easy-mock",["exports","@angular/core","@angular/common/http","@angular/common","rxjs","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-easy-mock"]={},e.ng.core,e.ng.common.http,e.ng.common,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,o,n,i){"use strict";var a=function(e){return void 0===e&&(e=500),new r.HttpResponse({status:e,statusText:"HTTPå¼‚å¸¸"})},c=new t.InjectionToken("config");Object.create;function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return a}Object.create;var s=function(){function e(e){var t=this;this.config=e,this.ruleList=[],this.config=Object.assign({delay:300,log:!0},this.config),Object.values(this.config.data||{}).forEach((function(e){Object.entries(e).forEach((function(e){var r=u(e,2),o=r[0],n=r[1];o.includes(" ")||(o="GET "+o);var i=o.split(" ");t.ruleList.push({method:i[0].toLocaleUpperCase(),url:i[1],data:n})}))}))}return e.prototype.getRule=function(e,t){var r=this;return e=e.toLocaleUpperCase(),t=this.getPath(t),this.ruleList.filter((function(t){return t.method==e})).find((function(e){var o=r.getUrlSegment(t),n=r.getUrlSegment(e.url);return o.length==n.length&&n.every((function(e,t){return!!e.startsWith(":")||e==o[t]}))}))},e.prototype.getPath=function(e){return e.slice(0,e.includes("?")?e.indexOf("?"):void 0)},e.prototype.getUrlSegment=function(e){return e.split("/")},e}();s.Éµfac=function(e){return new(e||s)(t.ÉµÉµinject(c,8))},s.Éµprov=t.ÉµÉµdefineInjectable({token:s,factory:s.Éµfac,providedIn:"root"});var l=function(){function e(e){this.mockService=e}return e.prototype.intercept=function(e,t){var o=this.mockService.getRule(e.method,e.urlWithParams);if(!o)return t.handle(e);var a=new r.HttpResponse({body:"function"==typeof o.data?o.data(this.getParams(e,o)):this.clone(o.data)});return this.mockService.config.log&&(console.log("%cðŸ‘½ ["+e.method+"] -> ["+this.mockService.getPath(e.urlWithParams)+"] -> [Request]","background:#000;color:#bada55",e),console.log("%cðŸ‘½ ["+e.method+"] -> ["+this.mockService.getPath(e.urlWithParams)+"] -> [Response]","background:#000;color:#bada55",a)),n.of(a).pipe(i.delay(this.mockService.config.delay))},e.prototype.getParams=function(e,t){var r={params:{},queryString:{},headers:{},body:e.body,original:e},o=this.mockService.getUrlSegment(this.mockService.getPath(e.urlWithParams));this.mockService.getUrlSegment(t.url).forEach((function(e,t){e.startsWith(":")&&(r.params[e.slice(1)]=o[t])}));var n=e.urlWithParams.slice(e.urlWithParams.includes("?")?e.urlWithParams.indexOf("?")+1:0);return n&&n.split("&").forEach((function(e){var t=u(e.split("="),2),o=t[0],n=t[1];r.queryString[o]=n})),e.headers.keys().forEach((function(t){r.headers[t]=e.headers.get(t)})),r},e.prototype.clone=function(e){return void 0===e&&(e=null),JSON.parse(JSON.stringify(e))},e}();l.Éµfac=function(e){return new(e||l)(t.ÉµÉµinject(s))},l.Éµprov=t.ÉµÉµdefineInjectable({token:l,factory:l.Éµfac});var f=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:c,useValue:t}]}},e}();f.Éµmod=t.ÉµÉµdefineNgModule({type:f}),f.Éµinj=t.ÉµÉµdefineInjector({factory:function(e){return new(e||f)},providers:[{provide:r.HTTP_INTERCEPTORS,useClass:l,multi:!0}],imports:[[o.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ÉµÉµsetNgModuleScope(f,{imports:[o.CommonModule]}),e.Config=c,e.MockStatusError=a,e.NgEasyMockModule=f,e.NgEasyMockService=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-easy-mock.umd.min.js.map