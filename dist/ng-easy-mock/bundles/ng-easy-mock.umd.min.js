!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/common/http"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ng-easy-mock",["exports","@angular/common","@angular/core","@angular/common/http","rxjs","rxjs/operators"],t):t(e["ng-easy-mock"]={},e.ng.common,e.ng.core,e.ng.common.http,e.rxjs,e.rxjs.operators)}(this,function(e,t,r,o,n,i){"use strict";var a=function(e){return void 0===e&&(e=500),new o.HttpResponse({status:e,statusText:"HTTPå¼‚å¸¸"})},c=new r.InjectionToken("config");function s(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var o,n,i=r.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)a.push(o.value)}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i["return"])&&r.call(i)}finally{if(n)throw n.error}}return a}var u=(l.prototype.getRule=function(t,o){var n=this;return t=t.toLocaleUpperCase(),o=this.getPath(o),this.ruleList.filter(function(e){return e.method==t}).find(function(e){var r=n.getUrlSegment(o),e=n.getUrlSegment(e.url);return r.length==e.length&&e.every(function(e,t){return!!e.startsWith(":")||e==r[t]})})},l.prototype.getPath=function(e){return e.slice(0,e.includes("?")?e.indexOf("?"):undefined)},l.prototype.getUrlSegment=function(e){return e.split("/")},l.decorators=[{type:r.Injectable,args:[{providedIn:"root"}]}],l.ctorParameters=function(){return[{type:undefined,decorators:[{type:r.Optional},{type:r.Inject,args:[c]}]}]},l.ngInjectableDef=r.defineInjectable({factory:function(){return new l(r.inject(c,8))},token:l,providedIn:"root"}),l);function l(e){var r=this;this.config=e,this.ruleList=[],this.config=Object.assign({delay:300,log:!0},this.config),Object.values(this.config.data||{}).forEach(function(e){Object.entries(e).forEach(function(e){var t=s(e,2),e=t[0],t=t[1];e.includes(" ")||(e="GET "+e);e=e.split(" ");r.ruleList.push({method:e[0].toLocaleUpperCase(),url:e[1],data:t})})})}var f=(d.prototype.intercept=function(e,t){var r=this.mockService.getRule(e.method,e.urlWithParams);if(!r)return t.handle(e);r=new o.HttpResponse({body:"function"==typeof r.data?r.data(this.getParams(e,r)):this.clone(r.data)});return this.mockService.config.log&&(console.log("%cðŸ‘½ ["+e.method+"] -> ["+this.mockService.getPath(e.urlWithParams)+"] -> [Request]","background:#000;color:#bada55",e),console.log("%cðŸ‘½ ["+e.method+"] -> ["+this.mockService.getPath(e.urlWithParams)+"] -> [Response]","background:#000;color:#bada55",r)),n.of(r).pipe(i.delay(this.mockService.config.delay))},d.prototype.getParams=function(t,e){var r={params:{},queryString:{},headers:{},body:t.body,original:t},o=this.mockService.getUrlSegment(this.mockService.getPath(t.urlWithParams));this.mockService.getUrlSegment(e.url).forEach(function(e,t){e.startsWith(":")&&(r.params[e.slice(1)]=o[t])});e=t.urlWithParams.slice(t.urlWithParams.includes("?")?t.urlWithParams.indexOf("?")+1:0);return e&&e.split("&").forEach(function(e){var t=s(e.split("="),2),e=t[0],t=t[1];r.queryString[e]=t}),t.headers.keys().forEach(function(e){r.headers[e]=t.headers.get(e)}),r},d.prototype.clone=function(e){return void 0===e&&(e=null),JSON.parse(JSON.stringify(e))},d.decorators=[{type:r.Injectable}],d.ctorParameters=function(){return[{type:u}]},d);function d(e){this.mockService=e}p.forRoot=function(e){return{ngModule:p,providers:[{provide:c,useValue:e}]}},p.decorators=[{type:r.NgModule,args:[{providers:[{provide:o.HTTP_INTERCEPTORS,useClass:f,multi:!0}],declarations:[],imports:[t.CommonModule]}]}],t=p;function p(){}e.MockStatusError=a,e.Config=c,e.NgEasyMockService=u,e.NgEasyMockModule=t,e.Éµa=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-easy-mock.umd.min.js.map